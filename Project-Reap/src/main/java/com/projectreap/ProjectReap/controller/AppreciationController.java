package com.projectreap.ProjectReap.controller;import com.projectreap.ProjectReap.entity.User;import com.projectreap.ProjectReap.pojo.AppreciatedData;import com.projectreap.ProjectReap.service.AppreciationService;import com.projectreap.ProjectReap.service.UserService;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.ModelAttribute;import org.springframework.web.bind.annotation.PostMapping;import javax.servlet.http.HttpServletRequest;import java.util.Map;@Controllerpublic class AppreciationController {    @Autowired    AppreciationService appreciationService;    @Autowired    UserService userService;    @PostMapping("/appreciation")    public String submitAppreciationDetails(@ModelAttribute AppreciatedData appreciatedData, HttpServletRequest request, Model model) {        User appreciatedUser=userService.getById(appreciatedData.getAppreciatedUser());        System.out.println(appreciatedUser);        System.out.println(appreciatedData.getReason());        appreciationService.save(appreciatedData, request);        Map<String,Integer> appreciatedBadge=appreciationService.handlingBadge(appreciatedUser);        Integer totalPoints=appreciationService.getTotalPoints(appreciatedUser);        System.out.println(appreciatedBadge);        System.out.println("totalpoints"+totalPoints);        model.addAttribute("appreciatedBadge",appreciatedBadge);        model.addAttribute("appreciatedUser",appreciatedUser);        appreciatedUser.setTotalPoints(totalPoints);        userService.save(appreciatedUser);        return "redirect:/user/dashboard";    }}